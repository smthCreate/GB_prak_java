1. Почему всё пишется в одном классе?
2. Почему нет встроеной функции геттайп?